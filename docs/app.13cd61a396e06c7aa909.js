webpackJsonp([1],{"../config/polyfills.js":function(e,t,n){"undefined"==typeof Promise&&(n("../node_modules/promise/lib/rejection-tracking.js").enable(),window.Promise=n("../node_modules/promise/lib/es6-extensions.js")),n("../node_modules/whatwg-fetch/fetch.js"),Object.assign=n("../node_modules/object-assign/index.js")},"./application.prod.js":function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=n("../node_modules/react/index.js"),m=n.n(f),h=n("../node_modules/react-dom/index.js"),g=n("../node_modules/react-redux/es/index.js"),b=n("../node_modules/react-router-dom/es/index.js"),y=n("../node_modules/recompose/es/Recompose.js"),E=(m.a.createElement("div",null,m.a.createElement("h1",null,"No matched route found...")),Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),j=m.a.createElement(b.b,{to:"/"}),v=function(e){var t=e.component,n=e.authed,r=o(e,["component","authed"]);return m.a.createElement(b.c,E({},r,{render:function(e){return n?j:m.a.createElement(t,e)}}))},x=v,w=n("../node_modules/seamless-immutable/seamless-immutable.development.js"),C=n("../node_modules/react-color/lib/index.js"),O=n("../node_modules/react-rangeslider/lib/index.js"),_=n.n(O),S=n("../node_modules/color-temperature/index.js"),T=n.n(S),N=function(e){return T.a.colorTemperature2rgb(e)},B=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},P=function(e,t,n){return"#"+B(e)+B(t)+B(n)},k=(n("./components/lifx/Bulb/styles.css"),m.a.createElement("br",null)),L=m.a.createElement("hr",null),R=m.a.createElement("hr",null),A=m.a.createElement("br",null),U=m.a.createElement("label",null,"Change color!"),H=m.a.createElement("hr",null),G=function(e){function t(n){r(this,t);var o=s(this,e.call(this,n));return o.state={brightness:0,color:{hex:"",hue:0,kelvin:0,rgb:{red:0,green:0,blue:0},saturation:0},picker:"",power:!1,slider:50},o.handleColorChange=o.handleColorChange.bind(o),o.handleBrightnessChange=o.handleBrightnessChange.bind(o),o}return a(t,e),t.prototype.componentWillMount=function(){var e=this.props.bulb,t=e.brightness,n=e.color,o=e.power,r=N(n.kelvin),s=P(r.red,r.green,r.blue);this.setState({brightness:t,color:{hex:s,hue:n.hue,kelvin:n.kelvin,rgb:r,saturation:n.saturation},picker:s,power:"off"!==o,slider:Math.round(100*t)})},t.prototype.handleColorChange=function(e){console.log("Color selected: ",e),this.setState({picker:e.hex})},t.prototype.handleBrightnessOnChange=function(e){console.log("On change brightness with: ",e)},t.prototype.handleBrightnessChange=function(e){console.log("Brightness value selected: ",e)},t.prototype.toggleColor=function(e,t){console.log("Toggle color with id: ",e),console.log("Toggle color with color: ",t),fetch("https://api.lifx.com/v1/lights/id:"+e+"/state",{body:JSON.stringify({color:t}),headers:{Accept:"*/*",Authorization:"Bearer ce31fb5c8ca3d39ddc180c47c1771a1bdd614f83126aac0f03c302e9dc6a8366","accept-encoding":"gzip, deflate","content-type":"application/json"},method:"PUT"}).then(function(e){return console.log("response is ",e),e.json().then(function(e){var t=e.results[0];return console.log("res is ",t),"ok"===t.status&&console.log("We are ok!"),t})})},t.prototype.togglePower=function(e){var t=this;fetch("https://api.lifx.com/v1/lights/id:"+e+"/toggle",{headers:{Authorization:"Bearer ce31fb5c8ca3d39ddc180c47c1771a1bdd614f83126aac0f03c302e9dc6a8366"},method:"POST"}).then(function(e){return console.log("response is ",e),e.json().then(function(e){var n=e.results[0];return console.log("res is ",n),"ok"===n.status&&t.setState({power:!t.state.power}),n})})},t.prototype.render=function(){var e=this,t=this.props.bulb,n=t.brightness,o=t.id,r=t.label,s=this.state,a=s.color.hex,l=s.picker,c=s.power,i=(s.slider,c?"On":"Off");return console.log("Bulb has props: ",this.props.bulb),console.log("and props: ",this.props),console.log("Hex is: ",a),m.a.createElement("div",{className:"Bulb"},m.a.createElement("p",{className:"Bulb-name"},"Name: ",m.a.createElement("span",null,r)),m.a.createElement("p",null,"Brightness: ",n),m.a.createElement("div",{className:"Bulb-color"},m.a.createElement("p",{style:{color:a}},"Color"),m.a.createElement("div",{className:"Bulb--color-selector"},m.a.createElement(C.ChromePicker,{color:l,onChangeComplete:this.handleChangeComplete}),k,L,m.a.createElement("div",{className:"slider"},m.a.createElement(_.a,{max:100,min:0,value:50,onChange:this.handleBrightnessOnChange,onChangeComplete:this.handleBrightnessChange,orientation:"horizontal"})),R,A,m.a.createElement("button",{className:"Bulb-button",onClick:function(){return e.toggleColor(o,l)}},U))),H,m.a.createElement("div",{className:"Bulb-power"},m.a.createElement("button",{className:"Bulb-button",onClick:function(){return e.togglePower(o)}},m.a.createElement("label",null,"Turn ",i))))},t}(f.Component),I=G,M=(n("./components/lifx/Collection/styles.css"),function(e){return m.a.createElement("div",{className:"Collection"},m.a.createElement("h2",null,"Lifx ",e.name),m.a.createElement("ul",{className:"Collection--list"},e.collection.map(function(e,t){return m.a.createElement("li",{className:"Collection--list-item",key:t},e)})))}),z=M,F=(n("./components/lifx/Group/styles.css"),m.a.createElement("h2",null,"Lifx Groups"),n("./components/lifx/Location/styles.css"),m.a.createElement("div",{className:"Location"},m.a.createElement("h2",null,"Lifx Locations")),n("./scenes/Home/styles.css"),function(e,t){var n=[];return e.length>0&&e.forEach(function(e,o){var r=e[t].name;n.includes(r)||n.push(r)}),n}),J=Object(y.a)(Object(g.b)(function(e){var t=Object(w.getIn)(e,["lights","data"]);return{groups:F(t,"group")||[],lights:t||[],locations:F(t,"location")||[]}},{})),Q=m.a.createElement("p",{className:"Home-intro"},"Control the bulbs from here!"),D=function(e){function t(){return l(this,t),c(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.groups,n=e.lights,o=e.locations;return m.a.createElement("div",{className:"Home"},Q,m.a.createElement("div",{className:"Home-main"},m.a.createElement("div",{className:"Home--collection"},t.length>0&&m.a.createElement(z,{collection:t,name:"Groups"}),o.length>0&&m.a.createElement(z,{collection:o,name:"Locations"})),m.a.createElement("div",{className:"Home--bulb"},n.length>0&&m.a.createElement("ul",{className:"Home--bulb-list"},n.map(function(e,t){return m.a.createElement("li",{className:"Home--bulb-list-item",key:t},m.a.createElement(I,{bulb:e}))})))))},t}(f.PureComponent),W=J(D),q=n("./shared/state/lights/actions.js"),K=(n("./shared/styles/index.css"),n("./containers/App/styles.css"),Object(y.a)(b.e,Object(g.b)(null,{getLights:q.b}))),V=m.a.createElement(x,{path:"/",component:W}),X=function(e){function t(){return u(this,t),p(this,e.apply(this,arguments))}return d(t,e),t.prototype.componentWillMount=function(){this.props.getLights()},t.prototype.render=function(){return m.a.createElement("div",{className:"App"},m.a.createElement(b.d,{key:"app"},V))},t}(f.PureComponent),Y=K(X),Z="pushState"in window.history,$=m.a.createElement(Y,null),ee=function(e){var t=e.store;return m.a.createElement(g.a,{store:t},m.a.createElement(b.a,{forceRefresh:!Z},$))},te=ee,ne=n("./store/index.js"),oe=n.n(ne);!function(e){Object(h.render)(m.a.createElement(e,{store:oe.a}),document.getElementById("root"))}(te)},"./components/lifx/Bulb/styles.css":function(e,t){},"./components/lifx/Collection/styles.css":function(e,t){},"./components/lifx/Group/styles.css":function(e,t){},"./components/lifx/Location/styles.css":function(e,t){},"./containers/App/styles.css":function(e,t){},"./index.js":function(e,t,n){e.exports=n("./application.prod.js")},"./scenes/Home/styles.css":function(e,t){},"./shared/state/lights/actions.js":function(e,t,n){"use strict";var o=function(e){return function(t){return{FAILURE:e+"/"+t+"_FAILURE",REQUEST:e+"/"+t+"_REQUEST",SUCCESS:e+"/"+t+"_SUCCESS",TRIGGER:e+"/"+t+"_TRIGGER"}}},r=n("../node_modules/query-string/index.js"),s=n.n(r),a=n("../node_modules/redux-api-middleware/lib/index.js"),l=n("../node_modules/seamless-immutable/seamless-immutable.development.js"),c=n.n(l),i={get:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,["GET"].concat(t))},post:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,["POST"].concat(t))},put:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,["PUT"].concat(t))},delete:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,["DELETE"].concat(t))}},u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],l=null,i="https://api.lifx.com/v1/"+n;console.log("Fire request with endpoint: ",i);var u={Authorization:"Bearer ce31fb5c8ca3d39ddc180c47c1771a1bdd614f83126aac0f03c302e9dc6a8366","Content-Type":"application/json"};return console.log("Headers is: ",u),console.log("Endpoint is: ",i),console.log("Method is: ",e),o||(o={}),console.log("Data is now..",o),c.a.isImmutable(o)&&(o=c.a.asMutable(o)),console.log("Data is now...?",o),"GET"===e?i+=s.a.stringify(o):l=JSON.stringify(o),console.log("Body is",l),t={},t[a.CALL_API]={endpoint:i,method:e,body:l,headers:u,types:[r.REQUEST,{type:r.SUCCESS,payload:function(e,t,n){console.log("success");var o=n.headers.get("Content-Type");if(o&&~o.indexOf("json"))return Object(a.getJSON)(n).then(function(e){return c()(e)})}},{type:r.FAILURE,payload:function(e,t,n){console.log("fail");var o=n.headers.get("Content-Type");if(o&&~o.indexOf("json"))return Object(a.getJSON)(n).then(function(e){return c()({status:n.status,message:e.error||"Looks like something went wrongâ€¦"})})}}]},t},p=i;n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m});var d=new o("lights"),f=d("LIGHTS"),m=function(){return p.get("lights/all",null,f)}},"./shared/styles/index.css":function(e,t){},"./store/configureStore.prod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n("../node_modules/redux/es/index.js"),s=n("../node_modules/redux-api-middleware/lib/index.js"),a=n("../node_modules/redux-form/es/index.js"),l=n("../node_modules/redux-seamless-immutable/lib/index.js"),c=n("../node_modules/seamless-immutable/seamless-immutable.development.js"),i=n.n(c),u=n("./shared/state/lights/actions.js"),p=i()({data:{},fetching:!1}),d=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=arguments[1];return t.hasOwnProperty(o.type)?t[o.type](n,o):n}}(p,(o={},o[u.a.REQUEST]=function(e){return e.set("fetching",!0)},o[u.a.SUCCESS]=function(e,t){var n=t.payload;return e.set("fetching",!1).set("data",n)},o[u.a.FAILURE]=function(e,t){return t.payload,e.set("fetching",!1).set("data",{})},o)),f=d,m=function(e){var t=Object(l.combineReducers)({form:a.a,lights:f,routing:l.routerReducer});return function(e,n){return t(e,n)}},h=m,g={},b=[s.apiMiddleware],y=Object(r.c)(r.a.apply(void 0,b))(r.d),E=y(h(g),g);t.default=E},"./store/index.js":function(e,t,n){e.exports=n("./store/configureStore.prod.js")},0:function(e,t,n){n("../config/polyfills.js"),e.exports=n("./index.js")}},[0]);
//# sourceMappingURL=app.13cd61a396e06c7aa909.js.map